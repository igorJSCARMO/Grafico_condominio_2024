import matplotlib.pyplot as plt
import numpy as np
import pandas as pd

# Dados
categorias = ['Janeiro', 'Fevereiro']

Copasa =           [459.26, 501.22]
Cemig =            [12, 59.23]
Limpeza =          [150, 150]
Material_Limpeza = [25, 25]
Total =            [646.26, 735.45]

# Criar DataFrame
df = pd.DataFrame({
    'Copasa (R$)': Copasa,
    'Cemig (R$)': Cemig,
    'Limpeza (R$)': Limpeza,
    'Material_Limpeza (R$)': Material_Limpeza,
}, index=categorias)

# Criar gráfico de barras empilhadas
ax = df.plot(kind='bar', stacked=True, figsize=(15, 10), zorder=2)

# Adicionar anotações aos pontos (opcional)
for i, valor in enumerate(Total):
    plt.text(i, valor + 5, str(valor), ha='center', va='bottom')

# Adicionar título e rótulos aos eixos
plt.title('Condomínio Ambrosina Sampaio 2024')
plt.xlabel('Meses')
plt.ylabel('Valores (R$)')

# Adicionar legenda
plt.legend(title='Categorias', loc='lower center')

# Adicionar grade ao gráfico com zorder mais alto
plt.grid(alpha=0.5, zorder=1)

# Mostrar o gráfico
plt.show()

display(df)
